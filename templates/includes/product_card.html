{% load static %}

<div class="card h-100 shadow-sm">
    <!-- Шапка карточки -->
    <div class="p-4 text-center rounded-top" style="background-color: #6c757d; min-height: 120px;">
        <h5 class="card-title text-white">{{ product.name }}</h5>
    </div>

    <!-- Тело карточки -->
    <div class="card-body d-flex flex-column">
        <!-- Описание -->
        <p class="card-text text-muted mb-2">
            {{ product.description|truncatechars:100|default:"Описание отсутствует" }}
        </p>

        <!-- Категория -->
        {% if product.category %}
        <span class="badge bg-secondary mb-2 align-self-start">{{ product.category.name }}</span>
        {% endif %}

        <!-- Цена и кнопки -->
        <div class="mt-auto">
            <p class="card-text text-success fw-bold h5">{{ product.price }} руб.</p>

            {% if product.id %}
            <div class="d-flex gap-2">
                <a href="{% url 'product_detail' product.id %}" class="btn btn-outline-primary btn-sm flex-fill">
                    Подробнее
                </a>
                <button class="btn btn-outline-secondary btn-sm">♡</button>
            </div>
            {% endif %}
        </div>
    </div>
</div>
